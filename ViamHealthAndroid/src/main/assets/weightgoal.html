<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type='text/javascript' src='js/jquery.min.js'></script>

    <script type="text/javascript">
        function addPoint(data) {
            //why is this function needed?
            return;
            data = JSON.parse(data);
            var chart = $('#container').highcharts();
            var seriesA = chart.get("seriesA");
            seriesA.addPoint(data.seriesA);
        }


    </script>


    <script type='text/javascript'>//<![CDATA[
var str = goals.getData();

var android = JSON.parse(str);


$(function () {
    $('#container').highcharts({
        global: {
            useUTC: false
        },
        chart: {
            type: "spline",
            events: {
                    click: function(e) {
                        goals.addValue();
                    }
            }
        },
        title: {
            text: "Weight"
        },
        legend: {
            enabled: true,
            floating: true,
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'top'
        },
        /*tooltip: {
                valueSuffix: 'Kg'
            },*/
        xAxis: {        
            type: 'datetime',
            title: {
                text: "Date"
            },
            //max: android.goal.targetDate,
            plotLines: [{
                value: android.goal.targetDate,
                width: 2,
                color: '#37AA4F',
                label: {
                    text: 'Target Date',
                    textAlign: 'top',
                    align: 'top',
                    x: -15,
                    y: 0
                },
                dashStyle: "ShortDash",
                zIndex: 2
            }]            
        },
        yAxis : {
            title: {
                text: ""
            },
            plotBands: [{ // mark the weekend
                color: '#c4dffb',
                from: android.goal.healthyRange.from,
                to: android.goal.healthyRange.to,
                label: {
                    text: "Healthy Range",
                    verticalAlign: 'bottom',
                    align: 'center',
                    textAlign: 'center',
                    y: -10
                },
                zIndex: 1
            }],
            plotLines: [{
                value: android.goal.targetWeight,
                width: 2,
                color: '#37aa4f',
                label: {
                    text: 'Target Weight',
                    textAlign: 'left',
                    align: 'left',
                    y: -10,
                    x: 0
                },
                dashStyle: "ShortDash",
                zIndex: 2
            }],
            type: 'linear',
            min: android.yAxis.min>0?android.yAxis.min:0,
            max: android.yAxis.max
        },
        plotOptions: {
            series: {
                cursor: 'pointer',
                point: {
                    events: {
                        click: function() {
                            //alert ('Category: '+ this.x +', value: '+ this.y);
                            goals.onItemClick(this.x);
                        }
                    }
                }
            }
        },
        series: [{
            name : "Weight (Kgs)",
            id: "seriesA",
            data: android.seriesA
        }]
    });
});
//]]>  



    </script>


</head>
<body>
<script src="js/highcharts/highcharts.js"></script>

<div id="container" style="height: 360px; margin: 0 auto"></div>

</body>


</html>

