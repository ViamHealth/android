
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'></script>

    <script type="text/javascript">
        function addPoint(data) {
            data = JSON.parse(data);
            var chart = $('#container').highcharts();
            var seriesA = chart.get("seriesA");
            var seriesB = chart.get("seriesB");
            seriesA.addPoint(data.seriesA);
            seriesB.addPoint(data.seriesB);
        }
    </script>


    <script type='text/javascript'>//<![CDATA[
var str = goals.getData();
console.log(str);
var android = JSON.parse(str);
console.log(android);
$(function () {
    $('#container').highcharts({
        chart: {
            type: "spline",
            events: {
                    click: function(e) {
                        goals.addValue();
                    }
            }
        },
        title: {
            text: "Blood Sugar"
        },
        legend: {
            enabled: false
        },
        xAxis: {
            type: 'datetime',
            title: {
                text: "Timeline"
            },
            //max: android.goal.targetDate,
            plotLines: [{
                value: android.goal.targetDate,
                width: 2,
                color: '#37AA4F',
                label: {
                    text: 'Target Date',
                    textAlign: 'top',
                    align: 'top',
                    x: -15,
                    y: 0
                },
                dashStyle: "ShortDash",
                zIndex: 2
            }]

        },
        yAxis : {
            title: {
                text: ""
            },
            plotBands: [{ // mark the weekend
                color: '#c4dffb',
                from: android.goal.healthyRange.fbs.to,
                to: android.goal.healthyRange.fbs.from,
                label: {
                    text: "Healthy FBS",
                    verticalAlign: 'bottom',
                    align: 'center',
                    textAlign: 'center',
                    y: -10
                },
                zIndex: 1
            },
{ // mark the weekend
                color: '#f8cdc2',
                from: android.goal.healthyRange.rbs.to,
                to: android.goal.healthyRange.rbs.from,
                label: {
                    text: "Healthy RBS",
                    verticalAlign: 'bottom',
                    align: 'center',
                    textAlign: 'center',
                    y: -10
                },
                zIndex: 1
            }                       ],
            plotLines: [{
                value: android.goal.targetFBS,
                width: 2,
                color: '#FF0000',
                label: {
                    text: 'FBS Goal',
                    textAlign: 'left',
                    align: 'left',
                    verticalAlign: 'bottom',
                    x: -5
                },
                dashStyle: "ShortDash",
                zIndex: 2
            },
{
                value: android.goal.targetRBS,
                width: 2,
                color: '#FF0000',
                label: {
                    text: 'RBS Goal',
                    textAlign: 'left',
                    align: 'left',
                    verticalAlign: 'bottom',
                    x: -5
                },
                dashStyle: "ShortDash",
                zIndex: 2
            }                       ],
            type: 'linear',
            min: android.yAxis.min,
            max: android.yAxis.max
        },
        plotOptions: {
            series: {
                cursor: 'pointer',
                point: {
                    events: {
                        click: function() {
                            //alert ('Category: '+ this.x +', value: '+ this.y);
                            goals.onItemClick(this.x);
                        }
                    }
                }
            }
        },
        series: [{
            id: "seriesA",
            name: "Fasting Blood Sugar",
            color: "#4474a2",
            data: android.seriesA
        },
        {
            id: "seriesB",
            name: "Random Blood Sugar",
            color: "#cd5837",
            data: android.seriesB
        }]
    });
});
//]]>


</script>


</head>
<body>
<script src="http://code.highcharts.com/highcharts.js"></script>

<div id="container" ></div>

</body>


</html>

